<!DOCTYPE html>
<html>
<head>
	<title>Find the buried treasure</title>
	<script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body> 

	<h1 id="heading">Find the buried treasure!</h1>
	
	<img id="map" width=400 height=400 src="../images/treasureMap.jpg">
	
	<p id="distance"></p>
	
	<p id="clicksLeft"></p>
	
	<script>
	
	var getRandomNumber = function(size) {
		return Math.floor(Math.random() * size);
	};
	
	var getDistance = function(event, target) {
		var diffX = event.offsetX - target.x;
		var diffY = event.offsetY - target.y;
		return Math.sqrt((diffX * diffX) + (diffY * diffY));
	};
	
	var getDistanceHint = function (distance) {
		if (distance < 10) {
			return "Boiling hot!";
		} else if (distance < 20) {
			return "Really hot";
		} else if (distance < 40) {
			return "Hot"; 
		} else if (distance < 80) {
			return "Warm";
		} else if (distance < 160) {
			return "Cold";
		} else if (distance < 320) {
			return "Really cold";
		} else {
			return "Freezing!";
		}
	};
	
	
	var width = 400;
	var height = 400;
	
	var clicks = 0;
	
	var target = {
		x: getRandomNumber(width),
		y: getRandomNumber(height)
	};

	
	$("#map").click(function (event) {
		clicks++;
	
	var distance = getDistance(event, target);
	var distanceHint = getDistanceHint(distance);
	$("#distance").text(distanceHint);
	
	$("#clicksLeft").text((15 - clicks) + " clicks left");
	
	if (distance < 10) {
		alert("Found the treasure in " + clicks + " clicks!");
	}
	
	if (clicks >= 15) {
		alert("GAME OVER");
		$("#distance").text("You lose");
		$("#clicksLeft").text("Game over");
		
	}
	
	
	});
	
	
	
	
	</script>
	
</body>
</html>
